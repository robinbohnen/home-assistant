type: sections
max_columns: 3
title: Woning
path: woning
icon: mdi:home
dense_section_placement: false
sections:
  - type: grid
    cards:
      - type: custom:bubble-card
        card_type: separator
        name: Personen
        icon: mdi:human-male-female-child
        card_layout: large
        sub_button:
          - entity: group.all_adults
            show_name: true
            show_icon: false
            name: Volwassenen
            tap_action:
              action: none
          - entity: group.all_children
            show_name: true
            show_icon: false
            name: Kinderen
            tap_action:
              action: none
      - type: horizontal-stack
        cards:
          - type: custom:bubble-card
            card_type: button
            button_type: state
            entity: person.robin_bohnen
            name: Robin
            sub_button:
              - entity: sensor.iphone_van_robin_battery_level
                show_state: true
                show_background: false
            card_layout: large
          - type: custom:bubble-card
            card_type: button
            button_type: state
            entity: person.samantha_henkelman
            name: Samantha
            sub_button:
              - entity: sensor.iphone_van_samantha_battery_level
                show_state: true
                show_background: false
            card_layout: large
      - type: horizontal-stack
        cards:
          - type: custom:bubble-card
            card_type: button
            button_type: state
            entity: person.emma_bohnen
            name: Emma
            sub_button:
              - entity: sensor.iphone_van_emma_battery_level
                show_state: true
                show_background: false
            card_layout: large
          - type: custom:bubble-card
            card_type: button
            button_type: state
            entity: person.logan_veen
            name: Logan
            sub_button:
              - entity: sensor.iphone_battery_level
                show_state: true
                show_background: false
            card_layout: large
      - type: custom:bubble-card
        card_type: separator
        name: Ruimtes
        icon: mdi:home-automation
        card_layout: large
      - type: custom:bubble-card
        card_type: button
        button_type: name
        name: Begane Grond
        icon: mdi:home-floor-0
        tap_action:
          action: navigate
          navigation_path: "#groundfloor"
        double_tap_action:
          action: navigate
          navigation_path: "#groundfloor"
        hold_action:
          action: navigate
          navigation_path: "#groundfloor"
        modules:
          - default
        button_action:
          tap_action:
            action: navigate
            navigation_path: "#groundfloor"
          double_tap_action:
            action: navigate
            navigation_path: "#groundfloor"
          hold_action:
            action: navigate
            navigation_path: "#groundfloor"
        sub_button:
          - entity: binary_sensor.pir_group_livingroom
            show_state: false
            icon: mdi:sofa
            name: Woonkamer Beweging
          - entity: binary_sensor.keuken_beweging_occupancy
            icon: mdi:countertop
            name: Keuken Beweging
          - entity: binary_sensor.entree_beweging_occupancy
            name: Entree Beweging
            icon: mdi:hanger
          - entity: binary_sensor.toilet_beweging_occupancy
            name: Toilet Beweging
            icon: mdi:paper-roll
      - type: custom:bubble-card
        card_type: button
        button_type: name
        name: Eerste verdieping
        icon: mdi:home-floor-1
        tap_action:
          action: navigate
          navigation_path: "#firstfloor"
        double_tap_action:
          action: navigate
          navigation_path: "#firstfloor"
        hold_action:
          action: navigate
          navigation_path: "#firstfloor"
        modules:
          - default
        button_action:
          tap_action:
            action: navigate
            navigation_path: "#firstfloor"
          double_tap_action:
            action: navigate
            navigation_path: "#firstfloor"
          hold_action:
            action: navigate
            navigation_path: "#firstfloor"
        sub_button:
          - entity: binary_sensor.pir_group_bathroom
            name: Badkamer Beweging
            icon: mdi:bathtub
          - entity: binary_sensor.overloop_beweging_occupancy
            name: Overloop Beweging
            icon: mdi:stairs-down
      - type: custom:bubble-card
        card_type: button
        button_type: name
        name: Tweede verdieping
        icon: mdi:home-floor-2
        tap_action:
          action: navigate
          navigation_path: "#secondfloor"
        double_tap_action:
          action: navigate
          navigation_path: "#secondfloor"
        hold_action:
          action: navigate
          navigation_path: "#secondfloor"
        modules:
          - default
        button_action:
          tap_action:
            action: navigate
            navigation_path: "#secondfloor"
          double_tap_action:
            action: navigate
            navigation_path: "#secondfloor"
          hold_action:
            action: navigate
            navigation_path: "#secondfloor"
        sub_button:
          - entity: binary_sensor.overloop_zolder_beweging_occupancy
            name: Overloop Zolder Beweging
            icon: mdi:stairs-up
      - type: custom:bubble-card
        card_type: button
        button_type: name
        name: Garage / Speelkamer
        icon: mdi:garage
        tap_action:
          action: navigate
          navigation_path: "#garage"
        double_tap_action:
          action: navigate
          navigation_path: "#garage"
        hold_action:
          action: navigate
          navigation_path: "#garage"
        modules:
          - default
        button_action:
          tap_action:
            action: navigate
            navigation_path: "#garage"
          double_tap_action:
            action: navigate
            navigation_path: "#garage"
          hold_action:
            action: navigate
            navigation_path: "#garage"
        sub_button:
          - entity: binary_sensor.pir_group_garage
            name: Garage Beweging
            icon: mdi:garage
          - entity: binary_sensor.pir_group_playroom
            name: Speelkamer Beweging
            icon: mdi:controller
      - type: custom:bubble-card
        card_type: button
        button_type: name
        modules:
          - default
        name: Buiten
        icon: mdi:flower
        tap_action:
          action: navigate
          navigation_path: "#outside"
        double_tap_action:
          action: navigate
          navigation_path: "#outside"
        hold_action:
          action: navigate
          navigation_path: "#outside"
        button_action:
          tap_action:
            action: navigate
            navigation_path: "#outside"
          double_tap_action:
            action: navigate
            navigation_path: "#outside"
          hold_action:
            action: navigate
            navigation_path: "#outside"
        sub_button:
          - entity: binary_sensor.g5_ultra_turret_overkapping_motion
            name: Achtertuin Beweging
            icon: mdi:awning-outline
          - entity: binary_sensor.g4_doorbell_pro_motion
            name: Deurbel beweging
            icon: mdi:doorbell-video
          - entity: binary_sensor.g5_ultra_turret_voortuin_motion
            name: Voortuin Beweging
            icon: mdi:car
  - type: grid
    cards:
      - type: custom:bubble-card
        card_type: separator
        name: Conditioneel
        icon: mdi:vector-difference-ab
        card_layout: large
      - type: custom:bubble-card
        card_type: cover
        modules:
          - default
        entity: cover.achtertuin_zonnescherm
        visibility:
          - condition: numeric_state
            entity: sensor.achtertuin_zon_luminance
            above: 10000
      - type: custom:bubble-card
        card_type: climate
        entity: climate.woonkamer_2
        sub_button:
          - name: HVAC modes menu
            select_attribute: hvac_modes
            state_background: false
            show_arrow: false
        state_color: false
        visibility:
          - condition: numeric_state
            entity: sensor.woonkamer_temperatuur
            above: 23
          - condition: state
            entity: binary_sensor.woonkamer_openslaande_deuren_contact
            state: "off"
        modules:
          - default
      - type: custom:bubble-card
        card_type: climate
        entity: climate.airco_zolder
        sub_button:
          - name: HVAC modes menu
            select_attribute: hvac_modes
            state_background: false
            show_arrow: false
        state_color: false
        visibility:
          - condition: numeric_state
            entity: sensor.slaapkamer_temperatuur_temperature
            above: 23
        modules:
          - default
      - type: custom:bubble-card
        card_type: button
        button_type: name
        icon: mdi:speaker-stop
        name: Boxen loskoppelen overkapping
        tap_action:
          action: perform-action
          perform_action: media_player.unjoin
          target:
            entity_id: media_player.overkapping_sonos
        double_tap_action:
          action: perform-action
          perform_action: media_player.unjoin
          target:
            entity_id: media_player.overkapping_sonos
        visibility:
          - condition: state
            entity: media_player.overkapping_sonos
            state_not: paused
        modules:
          - default
        button_action:
          tap_action:
            action: perform-action
            perform_action: media_player.unjoin
            target:
              entity_id: media_player.overkapping_sonos
            data: {}
          double_tap_action:
            action: perform-action
            perform_action: media_player.unjoin
            target:
              entity_id: media_player.overkapping_sonos
            data: {}
          hold_action:
            action: perform-action
            perform_action: media_player.unjoin
            target:
              entity_id: media_player.overkapping_sonos
            data: {}
      - type: custom:bubble-card
        card_type: button
        button_type: name
        name: Boxen samenvoegen overkapping
        icon: mdi:set-all
        tap_action:
          action: perform-action
          perform_action: media_player.join
          target:
            entity_id: media_player.woonkamer_sonos
          data:
            group_members:
              - media_player.overkapping_sonos
        double_tap_action:
          action: perform-action
          perform_action: media_player.join
          target:
            entity_id: media_player.woonkamer_sonos
          data:
            group_members:
              - media_player.overkapping_sonos
        visibility:
          - condition: or
            conditions:
              - condition: state
                entity: binary_sensor.woonkamer_openslaande_deuren_contact
                state: "on"
              - condition: numeric_state
                entity: sensor.achtertuin_zon_luminance
                above: 15000
              - condition: numeric_state
                entity: sensor.voortuin_zon_luminance
                above: 15000
          - condition: or
            conditions:
              - condition: state
                entity: media_player.overkapping_sonos
                state: idle
              - condition: state
                entity: media_player.overkapping_sonos
                state: paused
        modules:
          - default
        button_action:
          tap_action:
            action: perform-action
            perform_action: media_player.join
            target:
              entity_id: media_player.woonkamer_sonos
            data:
              group_members:
                - medi
          double_tap_action:
            action: perform-action
            perform_action: media_player.join
            target:
              entity_id: media_player.woonkamer_sonos
            data:
              group_members:
                - medi
          hold_action:
            action: perform-action
            perform_action: media_player.join
            target:
              entity_id: media_player.woonkamer_sonos
            data:
              group_members:
                - media_player.overkapping_sonos
        hold_action:
          action: perform-action
          perform_action: media_player.join
          target:
            entity_id: media_player.woonkamer_sonos
          data:
            group_members:
              - media_player.overkapping_sonos
      - type: custom:bubble-card
        card_type: climate
        modules:
          - default
        entity: climate.intex_purespa
        sub_button:
          - name: HVAC modes menu
            select_attribute: hvac_modes
            state_background: false
            show_arrow: false
          - entity: switch.intex_purespa_filter
          - entity: switch.intex_purespa_sanitizer
        show_attribute: true
        attribute: current_temperature
        visibility:
          - condition: state
            entity: switch.intex_purespa_power
            state: "on"
      - type: custom:bubble-card
        card_type: button
        button_type: name
        modules:
          - default
        name: Speel Q-Music
        icon: mdi:music
        tap_action:
          action: perform-action
          perform_action: automation.trigger
          target:
            entity_id: automation.general_play_default_music
          data:
            skip_condition: true
        double_tap_action:
          action: perform-action
          perform_action: automation.trigger
          target:
            entity_id: automation.general_play_default_music
          data:
            skip_condition: true
        hold_action:
          action: perform-action
          perform_action: automation.trigger
          target:
            entity_id: automation.general_play_default_music
          data:
            skip_condition: true
        button_action:
          tap_action:
            action: perform-action
            perform_action: automation.trigger
            target:
              entity_id: automation.general_play_default_music
            data:
              skip_condition: true
          double_tap_action:
            action: perform-action
            perform_action: automation.trigger
            target:
              entity_id: automation.general_play_default_music
            data:
              skip_condition: true
          hold_action:
            action: perform-action
            perform_action: automation.trigger
            target:
              entity_id: automation.general_play_default_music
            data:
              skip_condition: true
        visibility:
          - condition: or
            conditions:
              - condition: state
                entity: media_player.woonkamer_sonos
                state: idle
              - condition: state
                entity: media_player.woonkamer_sonos
                state: paused
              - condition: state
                entity: media_player.woonkamer_sonos
                state: standby
      - type: horizontal-stack
        cards:
          - type: custom:bubble-card
            card_type: button
            button_type: state
            modules:
              - default
            entity: binary_sensor.slaapkamer_maxi_deur_contact
            show_last_changed: true
            name: Maxi Deur
          - type: custom:bubble-card
            card_type: button
            button_type: state
            modules:
              - default
            entity: binary_sensor.slaapkamer_mini_deur_contact
            show_last_changed: true
            name: Mini Deur
            show_state: true
        visibility:
          - condition: state
            entity: switch.bedtime_kids
            state: "on"
      - type: custom:bubble-card
        card_type: separator
        modules:
          - default
        name: Stroomverbruik negatief / Stroomprijs negatief
        icon: mdi:currency-eur
        visibility:
          - condition: or
            conditions:
              - condition: state
                entity: switch.live_energieverbruik_totaal_negatief
                state: "on"
              - condition: numeric_state
                entity: sensor.zonneplan_current_electricity_tariff
                below: 0
      - type: custom:bubble-card
        card_type: button
        button_type: slider
        modules:
          - default
        name: Alle verlichting
        icon: mdi:lightbulb
        entity: light.alle_verlichting
        visibility:
          - condition: or
            conditions:
              - condition: numeric_state
                entity: sensor.zonneplan_current_electricity_tariff
                below: 0
        use_accent_color: false
        show_state: true
      - type: custom:bubble-card
        card_type: button
        button_type: state
        modules:
          - default
        entity: sensor.lilygo_rs485_marstek_inverter_state
        name: Batterij
        icon: mdi:battery-charging-100
        tap_action:
          action: navigate
          navigation_path: "#battery"
        double_tap_action:
          action: navigate
          navigation_path: "#battery"
        hold_action:
          action: navigate
          navigation_path: "#battery"
        button_action:
          tap_action:
            action: navigate
            navigation_path: "#battery"
          double_tap_action:
            action: navigate
            navigation_path: "#battery"
          hold_action:
            action: navigate
            navigation_path: "#battery"
        visibility:
          - condition: or
            conditions:
              - condition: state
                entity: switch.live_energieverbruik_totaal_negatief
                state: "on"
              - condition: numeric_state
                entity: sensor.zonneplan_current_electricity_tariff
                below: 0
              - condition: state
                entity: select.lilygo_rs485_marstek_rs485_control_mode
                state: enable
      - type: custom:bubble-card
        card_type: button
        button_type: state
        entity: automation.carport_charging_station_charge
        name: Laadpaal Starten
        icon: mdi:ev-station
        show_last_changed: false
        show_attribute: false
        show_state: false
        tap_action:
          action: call-service
          target:
            entity_id: automation.carport_charging_station_charge
          service: automation.trigger
        modules:
          - default
        visibility:
          - condition: or
            conditions:
              - condition: state
                entity: switch.live_energieverbruik_totaal_negatief
                state: "on"
              - condition: numeric_state
                entity: sensor.zonneplan_current_electricity_tariff
                below: 0
  - type: grid
    cards:
      - type: custom:bubble-card
        card_type: separator
        modules:
          - default
        name: Vandaag
        icon: mdi:calendar-today
      - type: custom:bubble-card
        card_type: button
        button_type: state
        modules:
          - default
        entity: sensor.afvalinfo_home_trash_type_today
        visibility:
          - condition: state
            entity: sensor.afvalinfo_home_trash_type_today
            state_not: geen
        name: Afval vandaag
      - type: custom:bubble-card
        card_type: calendar
        modules:
          - default
        entities:
          - entity: calendar.agenda
            color: "#2944BC"
          - entity: calendar.agenda_business_2
            color: "#EBDED6"
          - entity: calendar.agenda_private
            color: "#B79500"
          - entity: calendar.agenda_business
            color: "#FC3FE3"
          - entity: calendar.mini
            color: "#4DB907"
          - entity: calendar.maxi
            color: "#4D9C35"
          - entity: calendar.robin_en_sam
            color: "#8CA02E"
        show_end: true
        show_progress: true
      - type: custom:bubble-card
        card_type: separator
        name: Brandweer
        icon: mdi:fire-circle
        sub_button:
          - entity: input_select.brandweer_dienstdoende_ploeg
            show_name: true
            show_state: true
            show_background: false
            show_attribute: false
            attribute: friendly_name
            show_arrow: false
            show_icon: true
            name: "Huidige ploeg:"
        styles: |-
          .bubble-sub-button {
            background-color: ${hass.states['input_select.brandweer_dienstdoende_ploeg'].state === 'B Ploeg' ? 'var(--accent-color)' : ''} !important;
          }
        card_layout: large
        modules:
          - default
      - type: custom:bubble-card
        card_type: button
        button_type: state
        name: Laatste melding
        icon: mdi:fire-alert
        show_name: true
        entity: input_text.brandweer_laatste_melding
        scrolling_effect: false
        show_last_changed: false
        show_attribute: true
        sub_button:
          - entity: input_datetime.brandweer_laatste_melding
            show_attribute: false
            show_name: false
            show_state: true
            show_icon: false
            show_background: true
            attribute: timestamp
            tap_action:
              action: none
          - entity: input_boolean.brandweer_uitgerukt_op_laatste_melding
            show_state: false
            show_name: true
            name: Uitgerukt
            show_last_changed: false
            show_attribute: false
            show_icon: false
            show_background: true
            tap_action:
              action: none
        styles: |-
          .bubble-sub-button-2 {
            background-color: ${hass.states['binary_sensor.brandweer_uitgerukt_op_laatste_melding'].state === 'on' ? 'var(--accent-color)' : 'var(--card-background-color)'} !important;
          }
        tap_action:
          action: more-info
        double_tap_action:
          action: none
        hold_action:
          action: none
        button_action:
          tap_action:
            action: more-info
          double_tap_action:
            action: none
          hold_action:
            action: none
        card_layout: large-2-rows
        modules:
          - default
      - type: horizontal-stack
        cards:
          - type: custom:bubble-card
            card_type: button
            button_type: state
            entity: counter.brandweer_totaal_aantal_uitrukken
            show_icon: true
            show_name: true
            name: Totaal
            icon: mdi:fire-extinguisher
            scrolling_effect: false
            tap_action:
              action: none
            double_tap_action:
              action: none
            hold_action:
              action: none
            button_action:
              tap_action:
                action: more-info
              double_tap_action:
                action: none
              hold_action:
                action: none
            modules:
              - default
          - type: custom:bubble-card
            card_type: button
            button_type: state
            entity: counter.brandweer_uden_a_ploeg_uitrukken
            name: A
            scrolling_effect: false
            show_state: true
            show_name: false
            tap_action:
              action: none
            double_tap_action:
              action: none
            hold_action:
              action: none
            button_action:
              tap_action:
                action: more-info
              double_tap_action:
                action: none
              hold_action:
                action: none
            styles: |-
              .bubble-icon {
                color: ${hass.states['input_select.brandweer_mijn_huidige_ploeg'].state === 'A Ploeg' ? 'var(--accent-color)' : ''} !important;
              }
            icon: mdi:alpha-a-circle-outline
          - type: custom:bubble-card
            card_type: button
            button_type: state
            entity: counter.brandweer_uden_b_ploeg_uitrukken
            name: "B "
            scrolling_effect: false
            show_name: false
            show_state: true
            show_icon: true
            tap_action:
              action: none
            double_tap_action:
              action: none
            hold_action:
              action: none
            button_action:
              tap_action:
                action: more-info
              double_tap_action:
                action: none
              hold_action:
                action: none
            styles: |-
              .bubble-icon {
                color: ${hass.states['input_select.brandweer_mijn_huidige_ploeg'].state === 'B Ploeg' ? 'var(--accent-color)' : ''} !important;
              }
            icon: mdi:alpha-b-circle-outline
          - type: custom:bubble-card
            card_type: button
            button_type: state
            entity: counter.brandweer_uden_c_ploeg_uitrukken
            name: C
            scrolling_effect: false
            force_icon: false
            show_name: false
            double_tap_action:
              action: none
            hold_action:
              action: none
            tap_action:
              action: none
            button_action:
              tap_action:
                action: more-info
              double_tap_action:
                action: none
              hold_action:
                action: none
            styles: |-
              .bubble-icon {
                color: ${hass.states['input_select.brandweer_mijn_huidige_ploeg'].state === 'C Ploeg' ? 'var(--accent-color)' : ''} !important;
              }
            icon: mdi:alpha-c-circle-outline
      - type: custom:bubble-card
        card_type: separator
        modules:
          - default
        name: Stroom
        icon: mdi:power
      - type: custom:bubble-card
        card_type: button
        button_type: name
        show_name: true
        icon: mdi:power
        sub_button:
          - entity: sensor.electricity_meter_energieverbruik
            show_name: true
            show_state: true
            name: Verbruik
            state_background: false
            icon: mdi:power-socket-eu
          - entity: sensor.electricity_meter_energieproductie
            state_background: false
            show_name: true
            show_state: true
            name: Productie
            icon: mdi:solar-panel
          - entity: sensor.live_energieverbruik_totaal
            show_icon: true
            show_name: true
            show_state: true
            state_background: false
            name: Totaal
            icon: mdi:power
        name: Nu
        card_layout: large-2-rows
        styles: |-
          .bubble-sub-button-3 {
            background-color: ${hass.states['switch.live_energieverbruik_totaal_negatief'].state === 'off' ? '#FFCCCB' : '#AFE1AF'} !important;
          }
        modules:
          - default
      - type: custom:bubble-card
        card_type: button
        button_type: name
        name: Vandaag
        icon: mdi:meter-electric
        sub_button:
          - entity: sensor.solar_power_generated_today
            show_state: true
            state_background: false
            name: Totaal
            show_name: true
            icon: mdi:solar-power-variant
          - entity: sensor.zonneplan_electricity_consumption_today
            show_state: true
            state_background: false
            show_name: true
            name: Totaal
            icon: mdi:power-plug
          - entity: sensor.forecast_solar_production_today
            show_state: true
            state_background: false
            name: Verwacht
            show_name: true
            icon: mdi:solar-power
          - entity: sensor.zonneplan_gas_consumption_today
            show_state: true
            show_name: true
            state_background: false
            name: Totaal
            icon: mdi:gas-burner
        card_layout: large-2-rows
        show_name: true
        scrolling_effect: false
        modules:
          - default
      - type: custom:bubble-card
        card_type: button
        button_type: state
        entity: sensor.marstek_marstek_battery_power
        sub_button:
          - entity: sensor.marstek_marstek_battery_remaining_capacity
            show_name: false
            show_icon: false
            show_state: true
            show_background: true
            state_background: false
          - entity: sensor.marstek_marstek_battery_state_of_charge
            show_name: false
            show_icon: false
            show_state: true
            state_background: false
            show_background: true
          - entity: sensor.marstek_marstek_inverter_state
            show_last_changed: false
            show_state: true
            state_background: false
            show_icon: false
        name: Marstek Batterij
        card_layout: large-2-rows
        modules:
          - default
        tap_action:
          action: navigate
          navigation_path: "#battery"
        double_tap_action:
          action: navigate
          navigation_path: "#battery"
        hold_action:
          action: navigate
          navigation_path: "#battery"
        button_action:
          tap_action:
            action: navigate
            navigation_path: "#battery"
          double_tap_action:
            action: navigate
            navigation_path: "#battery"
          hold_action:
            action: navigate
            navigation_path: "#battery"
  - type: grid
    cards:
      - type: vertical-stack
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: "#groundfloor"
            button_type: name
            name: Begane Grond
            icon: mdi:home-floor-0
            show_header: true
            styles: ""
            modules:
              - default
          - type: custom:bubble-card
            card_type: separator
            button_type: name
            name: Woonkamer
            icon: mdi:sofa
            sub_button:
              - entity: sensor.woonkamer_temperatuur
                show_icon: true
                show_state: true
                state_background: false
                show_background: false
          - type: horizontal-stack
            cards:
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.woonkamer_lampen
                force_icon: false
                show_state: false
                show_last_changed: false
                show_attribute: false
                name: Verlichting Woonkamer
                icon: mdi:sofa-outline
                tap_action:
                  action: navigate
                  navigation_path: "#livingroom"
                sub_button:
                  - entity: sensor.woonkamer_verlichting_power
                    show_name: false
                    show_state: true
                    state_background: false
                    show_icon: true
                    show_background: false
                    name: Stroomverbruik
                    visibility:
                      - condition: state
                        entity: light.woonkamer_lampen
                        state: "on"
                card_layout: normal
                styles: |-
                  .bubble-button-background {
                    background-color: ${state === 'on' ?  'var(--accent-color)' : ''} !important;
                  }
                double_tap_action:
                  action: more-info
                  target: {}
                  service: light.turn.on
                hold_action:
                  action: more-info
                slider_live_update: false
                use_accent_color: false
          - type: custom:bubble-card
            card_type: climate
            entity: climate.woonkamer_2
            sub_button:
              - name: HVAC modes menu
                select_attribute: hvac_modes
                state_background: false
                show_arrow: false
            modules:
              - default
          - type: custom:bubble-card
            card_type: button
            entity: media_player.woonkamer_77_oled
            name: Woonkamer TV
            tap_action:
              action: toggle
            icon: mdi:television
            sub_button:
              - entity: automation.livingroom_media_playing
                name: Media playing
                icon: mdi:home-automation
                tap_action:
                  action: toggle
                  target: {}
            styles: ""
            button_type: switch
            modules:
              - default
          - type: horizontal-stack
            cards:
              - type: custom:bubble-card
                card_type: button
                entity: switch.woonkamer_luchtreinigers
                name: Luchtreinigers
                show_name: true
                icon: mdi:air-filter
                force_icon: false
                button_type: switch
                modules:
                  - default
                tap_action:
                  action: toggle
                double_tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                button_action:
                  tap_action:
                    action: toggle
                  double_tap_action:
                    action: toggle
                  hold_action:
                    action: more-info
              - type: custom:bubble-card
                card_type: button
                entity: switch.aquarium_stopcontact_pomp_skimmer
                icon: mdi:fishbowl-outline
                name: Aquarium pomp
                button_type: switch
                modules:
                  - default
                tap_action:
                  action: toggle
                double_tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                button_action:
                  tap_action:
                    action: toggle
                  double_tap_action:
                    action: toggle
                  hold_action:
                    action: more-info
          - type: custom:bubble-card
            card_type: button
            button_type: slider
            entity: light.trapkast_lampen
            name: Verlichting Trapkast
            icon: mdi:stairs
            modules:
              - default
          - type: custom:bubble-card
            card_type: separator
            button_type: name
            name: Keuken
            icon: mdi:sofa
            sub_button: []
          - type: custom:bubble-card
            card_type: button
            button_type: slider
            entity: light.keuken_lampen
            name: Verlichting Keuken
            icon: mdi:fridge-outline
            force_icon: false
            tap_action:
              action: toggle
            sub_button:
              - entity: sensor.keuken_verlichting_power
                show_state: true
                state_background: false
                show_background: false
                show_icon: true
                show_name: false
                show_attribute: false
                attribute: friendly_name
                name: Stroomverbruik
                visibility:
                  - condition: state
                    entity: light.keuken_lampen
                    state: "on"
            scrolling_effect: false
            card_layout: normal
            styles: |-
              .bubble-sub-button-2 {
                background-color: ${hass.states['cover.covers_kitchen_screens'].state === 'open' ? 'var(--card-background-color)' : 'var(--accent-color)'} !important;
              }
              .bubble-sub-button-3 {
                background-color: ${hass.states['cover.covers_kitchen_rollerblinds'].state === 'open' ? 'var(--card-background-color)' : 'var(--accent-color)'} !important;
              }
              .bubble-button-background {
                background-color: ${state === 'on' ?  'var(--accent-color)' : ''} !important;
              }
            hold_action:
              action: more-info
            double_tap_action:
              action: more-info
            use_accent_color: false
            modules:
              - default
          - type: horizontal-stack
            cards:
              - type: custom:bubble-card
                card_type: button
                entity: cover.covers_kitchen_rollerblinds
                name: Gordijnen
                icon: mdi:curtains
                styles: ""
                tap_action:
                  action: toggle
                double_tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                button_type: switch
                modules:
                  - default
              - type: custom:bubble-card
                card_type: button
                entity: cover.covers_kitchen_screens
                name: Screens
                icon: ""
                styles: ""
                tap_action:
                  action: toggle
                double_tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                button_type: switch
                modules:
                  - default
              - type: custom:bubble-card
                card_type: button
                entity: switch.linea_micra_kroon_18
                icon: mdi:coffee
                name: Koffie
                tap_action:
                  action: toggle
                double_tap_action:
                  action: toggle
                hold_action:
                  action: more-info
          - type: custom:bubble-card
            card_type: separator
            name: Entree
            icon: mdi:hanger
          - type: custom:bubble-card
            card_type: button
            button_type: slider
            entity: light.entree_lampen
            name: Verlichting Entree
            icon: mdi:hanger
            show_attribute: false
            sub_button:
              - entity: sensor.entree_lampen_power
                show_state: true
                state_background: false
                show_background: false
                icon: mdi:flash
                visibility:
                  - condition: state
                    entity: light.entree_lampen
                    state: "on"
          - type: custom:bubble-card
            card_type: button
            button_type: switch
            entity: switch.meterkast_lampen
            name: Verlichting Meterkast
            icon: mdi:fuse
            show_attribute: false
            sub_button:
              - entity: sensor.entree_lampen_power
                show_state: true
                state_background: false
                show_background: false
                icon: mdi:flash
                visibility:
                  - condition: state
                    entity: light.entree_lampen
                    state: "on"
            tap_action:
              action: toggle
            double_tap_action:
              action: toggle
            hold_action:
              action: more-info
      - type: vertical-stack
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: "#garage"
            name: Garage
            icon: mdi:garage
            button_type: name
            modules:
              - default
          - type: custom:bubble-card
            card_type: separator
            name: Speelkamer
            icon: mdi:gamepad
            card_layout: large
            sub_button:
              - entity: sensor.speelkamer_temperatuur_temperature
                show_background: false
                show_state: true
          - type: custom:bubble-card
            card_type: button
            button_type: slider
            entity: light.speelkamer_lampen
            name: Verlichting Speelkamer
            icon: mdi:controller
            sub_button:
              - entity: sensor.speelkamer_verlichting_power
                show_state: true
                show_background: false
                visibility:
                  - condition: state
                    entity: light.speelkamer_lampen
                    state: "on"
          - type: horizontal-stack
            cards:
              - type: custom:bubble-card
                card_type: button
                entity: media_player.speelkamer_tv
                name: Televisie
                tap_action:
                  action: toggle
                icon: mdi:television
                styles: |-
                  .bubble-button-background {
                    background-color: ${state === 'on' ?  'var(--accent-color)' : ''} !important;
                  }
              - type: custom:bubble-card
                card_type: button
                entity: switch.speelkamer_stopcontact_verwarming
                name: Verwarming
                icon: mdi:heat-wave
                sub_button:
                  - entity: sensor.speelkamer_stopcontact_verwarming_power
                    show_state: true
                    show_background: false
                    visibility:
                      - condition: state
                        entity: switch.speelkamer_stopcontact_verwarming
                        state: "on"
          - type: custom:bubble-card
            card_type: separator
            name: Garage
            icon: mdi:garage-variant
            card_layout: large
            modules:
              - default
            sub_button:
              - entity: sensor.garage_temperatuur_temperature
                show_state: true
                show_background: false
          - type: custom:bubble-card
            card_type: button
            button_type: slider
            entity: light.garage_lampen
            name: Verlichting Garage
            icon: mdi:garage
            sub_button:
              - entity: sensor.garage_verlichting_power
                show_background: false
                show_state: true
                visibility:
                  - condition: state
                    entity: light.garage_lampen
                    state: "on"
      - type: vertical-stack
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            name: Eerste verdieping
            icon: mdi:home-floor-1
            hash: "#firstfloor"
            button_type: name
            modules:
              - default
          - type: custom:bubble-card
            card_type: separator
            name: Slaapkamer
            icon: mdi:bed-double
            card_layout: large
            sub_button:
              - entity: sensor.slaapkamer_temperatuur_temperature
                show_state: true
                show_background: false
          - type: custom:bubble-card
            card_type: button
            button_type: slider
            entity: light.slaapkamer_lampen
            name: Verlichting Slaapkamer
            icon: mdi:bed-double
            sub_button: []
          - type: horizontal-stack
            cards:
              - type: custom:bubble-card
                card_type: button
                entity: cover.slaapkamer_rolluik
                name: Rolluik
              - type: custom:bubble-card
                card_type: empty-column
          - type: custom:bubble-card
            card_type: separator
            name: Badkamer
            card_layout: large
            sub_button:
              - entity: sensor.badkamer_temperatuur_temperature
                show_background: false
                show_state: true
            modules:
              - default
          - type: custom:bubble-card
            card_type: button
            button_type: slider
            entity: light.badkamer_lampen
            name: Verlichting Badkamer
            icon: mdi:shower-head
            slider_live_update: false
          - type: horizontal-stack
            cards:
              - type: custom:bubble-card
                card_type: button
                entity: cover.badkamer_rolluik
                name: Rolluik
              - type: custom:bubble-card
                card_type: empty-column
          - type: custom:bubble-card
            card_type: separator
            name: Kantoor
            icon: mdi:desk
            card_layout: large
            sub_button: []
            modules:
              - default
          - type: custom:bubble-card
            card_type: button
            button_type: slider
            entity: light.kantoor_lampen
            name: Verlichting Kantoor
            icon: mdi:desk-lamp
            modules:
              - default
          - type: horizontal-stack
            cards:
              - type: custom:bubble-card
                card_type: button
                entity: cover.covers_office
                name: Rolluiken
              - type: custom:bubble-card
                card_type: button
                entity: media_player.kantoor_sonos
                name: Sonos
          - type: custom:bubble-card
            card_type: separator
            name: Slaapkamer Maxi
            icon: mdi:bed
            card_layout: large
            sub_button:
              - entity: sensor.slaapkamer_maxi_temperatuur_temperature
                show_state: true
                show_background: false
          - type: custom:bubble-card
            card_type: button
            button_type: slider
            entity: light.slaapkamer_maxi_lampen
            name: Verlichting Slaapkamer Maxi
            icon: mdi:bed
          - type: horizontal-stack
            cards:
              - type: custom:bubble-card
                card_type: button
                entity: cover.covers_bedroom_maxi
                name: Rolluiken
                button_type: switch
                modules:
                  - default
              - type: custom:bubble-card
                card_type: button
                button_type: state
                entity: binary_sensor.slaapkamer_maxi_deur_contact
                show_last_changed: true
                name: Deur
      - type: vertical-stack
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: "#secondfloor"
            name: Tweede Verdieping
            icon: mdi:home-floor-2
            button_type: name
            modules:
              - default
          - type: custom:bubble-card
            card_type: separator
            name: Overloop Zolder
            card_layout: large
            icon: mdi:stairs-up
          - type: custom:bubble-card
            card_type: button
            button_type: slider
            entity: light.overloop_zolder_lampen
            name: Verlichting Overloop Zolder
            icon: mdi:stairs-box
          - type: custom:bubble-card
            card_type: climate
            entity: climate.airco_zolder
            sub_button:
              - name: HVAC modes menu
                select_attribute: hvac_modes
                state_background: false
                show_arrow: false
            name: Airco
          - type: custom:bubble-card
            card_type: separator
            name: Slaapkamer Mini
            icon: mdi:bed
            card_layout: large
          - type: custom:bubble-card
            card_type: button
            button_type: slider
            entity: light.slaapkamer_mini_lampen
            name: Verlichting Slaapkamer Mini
            icon: mdi:bed
          - type: horizontal-stack
            cards:
              - type: custom:bubble-card
                card_type: button
                entity: cover.slaapkamer_mini
                name: Rolluik
                button_type: switch
                modules:
                  - default
              - type: custom:bubble-card
                card_type: button
                button_type: state
                modules:
                  - default
                entity: binary_sensor.slaapkamer_mini_deur_contact
                show_last_changed: true
                show_last_updated: false
                name: Deur
      - type: vertical-stack
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: "#outside"
            button_type: name
            modules:
              - default
            name: Buiten
            icon: mdi:flower
          - type: custom:bubble-card
            card_type: separator
            modules:
              - default
            name: Voortuin
            icon: mdi:bee-flower
          - type: custom:bubble-card
            card_type: button
            button_type: slider
            modules:
              - default
            entity: light.voortuin_lampen
            name: Verlichting Voortuin
            icon: mdi:flower
          - type: custom:bubble-card
            card_type: separator
            modules:
              - default
            name: Achtertuin
            icon: mdi:seat
          - type: custom:bubble-card
            card_type: button
            button_type: slider
            modules:
              - default
            entity: light.achtertuin_lampen
            name: Verlichting Achtertuin
            icon: mdi:seat
          - type: custom:bubble-card
            card_type: cover
            modules:
              - default
            entity: cover.achtertuin_zonnescherm
            name: Zonnescherm
          - type: custom:bubble-card
            card_type: separator
            modules:
              - default
            name: Overkapping
            icon: mdi:greenhouse
          - type: custom:bubble-card
            card_type: climate
            modules:
              - default
            entity: climate.intex_purespa
            sub_button:
              - name: HVAC modes menu
                select_attribute: hvac_modes
                state_background: false
                show_arrow: false
              - entity: switch.intex_purespa_filter
              - entity: switch.intex_purespa_sanitizer
            show_attribute: true
            attribute: current_temperature
          - type: custom:bubble-card
            card_type: media-player
            modules:
              - default
            entity: media_player.overkapping_sonos
          - type: custom:bubble-card
            card_type: button
            button_type: switch
            modules:
              - default
            entity: switch.achtertuin_schuur_lampen
            name: Verlichting Schuur
          - type: custom:bubble-card
            card_type: separator
            modules:
              - default
            name: Carport
            icon: mdi:car
          - type: custom:bubble-card
            card_type: button
            button_type: slider
            modules:
              - default
            entity: light.carport_lampen
            name: Verlichting Carport
            icon: mdi:car
          - type: custom:bubble-card
            card_type: button
            button_type: state
            entity: automation.carport_charging_station_charge
            name: Laadpaal Starten
            icon: mdi:ev-station
            show_last_changed: false
            show_attribute: false
            show_state: false
            tap_action:
              action: call-service
              target:
                entity_id: automation.carport_charging_station_charge
              service: automation.trigger
            modules:
              - default
      - type: vertical-stack
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: "#doorbell"
            button_type: name
            modules:
              - default
            name: Deurbel
            trigger:
              - condition: state
                entity: binary_sensor.g4_doorbell_voortuin_doorbell
                state: "on"
            icon: mdi:doorbell-video
          - type: custom:advanced-camera-card
            cameras:
              - camera_entity: camera.g4_doorbell_pro_high_resolution_channel
              - camera_entity: camera.g4_doorbell_pro_package_camera
      - type: vertical-stack
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: "#battery"
            button_type: name
            modules:
              - default
            name: Batterij
            icon: mdi:battery-charging-100
          - type: custom:bubble-card
            card_type: button
            button_type: state
            entity: sensor.marstek_marstek_battery_power
            sub_button:
              - entity: sensor.marstek_marstek_battery_remaining_capacity
                show_name: false
                show_icon: false
                show_state: true
                show_background: true
                state_background: false
              - entity: sensor.marstek_marstek_battery_state_of_charge
                show_name: false
                show_icon: false
                show_state: true
                state_background: false
                show_background: true
              - entity: sensor.marstek_marstek_inverter_state
                show_last_changed: false
                show_state: true
                state_background: false
                show_icon: false
            name: Marstek Batterij
            card_layout: large-2-rows
            modules:
              - default
          - type: custom:bubble-card
            card_type: select
            entity: select.lilygo_rs485_marstek_rs485_control_mode
            show_state: true
            name: Marstek handmatige controle
            show_attribute: false
            show_last_changed: false
            modules:
              - default
            visibility:
              - condition: or
                conditions:
                  - condition: state
                    entity: switch.live_energieverbruik_totaal_negatief
                    state: "on"
                  - condition: numeric_state
                    entity: sensor.zonneplan_current_electricity_tariff
                    below: 0
          - type: custom:bubble-card
            card_type: select
            entity: select.lilygo_rs485_marstek_forcible_charge_discharge
            name: Op-/ontladen
            show_state: true
            icon: mdi:power-plug-battery
            visibility:
              - condition: state
                entity: select.lilygo_rs485_marstek_rs485_control_mode
                state: enable
              - condition: or
                conditions:
                  - condition: state
                    entity: switch.live_energieverbruik_totaal_negatief
                    state: "on"
                  - condition: numeric_state
                    entity: sensor.zonneplan_current_electricity_tariff
                    below: 0
            modules:
              - default
          - type: custom:bubble-card
            card_type: button
            button_type: state
            entity: number.lilygo_rs485_marstek_forcible_charge_power
            visibility:
              - condition: state
                entity: select.lilygo_rs485_marstek_forcible_charge_discharge
                state: charge
              - condition: state
                entity: select.lilygo_rs485_marstek_rs485_control_mode
                state: enable
              - condition: or
                conditions:
                  - condition: state
                    entity: switch.live_energieverbruik_totaal_negatief
                    state: "on"
                  - condition: numeric_state
                    entity: sensor.zonneplan_current_electricity_tariff
                    below: 0
            modules:
              - default
          - type: custom:bubble-card
            card_type: button
            button_type: state
            entity: number.lilygo_rs485_marstek_forcible_discharge_power
            visibility:
              - condition: state
                entity: select.lilygo_rs485_marstek_forcible_charge_discharge
                state: discharge
              - condition: state
                entity: select.lilygo_rs485_marstek_rs485_control_mode
                state: enable
              - condition: or
                conditions:
                  - condition: state
                    entity: switch.live_energieverbruik_totaal_negatief
                    state: "on"
                  - condition: numeric_state
                    entity: sensor.zonneplan_current_electricity_tariff
                    below: 0
            modules:
              - default
